# ПК ТА: Библиотека для Kerberos

[[_TOC_]]

## Общие сведения

### Назначение

Библиотека предназначена для взаимодействия с СУБД и сервисами с
использование Kerberos в **ПК ТА**:

### Используемые библиотеки

- libtasp-common - библиотека с общими функциями ПК ТА;
- libkrb5-3 - библиотека для работы с keytab-файлами и форования ccache.

## Сборка и компиляция

### Компиляция

Для компиляции необходимы следующие компоненты:

- компилятор GCC 10;
- генератор файлов сборки CMake;
- система сборки Ninja;
- поиск зависимостей pkg-config;
- библиотека ПК ТА libtasp-common;
- библиотека libkrb5-3.

#### Загрузка submodule

Для загрузки **submodule/cmake** необходимо выполнить команды:

```sh
git submodule update --init --recursive
git submodule update --recursive --remote
```

#### Инструкция по компиляции

Для компиляции необходимо выполнить последовательность действий:

1. Установить необходимые для компиляции пакеты:

    ```sh
    sudo apt install -y --no-install-recommends \
        gcc-astra \
        libc-dev \
        cmake \
        ninja-build \
        pkg-config \
        libkrb5-dev
    ```

2. Выполнить компиляцию:

    ```sh
    (
        mkdir build
        cd build
        cmake ..
        ninja
    )
    ```

    >**Примечание**:
    >
    > - Для компиляции в режиме DEBUG использовать: -DCMAKE_BUILD_TYPE=Debug;

#### Результаты компиляции

Файлы будут расположены в **build/bin**.

## Установка

### Инструкция по установке

Для установки необходимо выполнить последовательность действий:

```sh
sudo ninja -C build install
```
